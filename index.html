<!doctype html>
<html lang="en" class="">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    <link rel="stylesheet" href="output.css">
</head>
<body class="flex flex-col w-full h-screen justify-end ">
<div class="flex flex-col md:flex-row w-full justify-center items-center  pt-2 md:pt-10 gap-5">
    <span class="hidden md:block">°・*:.。.☆°・*:.。.☆</span>
    <h1 class="text-center text-3xl" style="font-family: Lobster,serif">Lolita game design </h1>
    <span class="block md:hidden">͙⁺˚*•̩̩͙✩•̩̩͙*˚⁺‧͙⁺˚*•̩̩͙✩•̩̩͙*˚⁺‧͙⁺˚*•̩̩͙✩•̩̩͙*˚⁺‧⁺˚*•̩̩͙✩•̩̩͙*˚⁺‧͙⁺˚*•̩̩͙✩•̩̩͙*˚⁺‧͙⁺˚*•̩̩͙✩•̩̩͙*˚⁺‧͙</span>
    <span class="hidden md:block">☆.。.:*・°☆.。.:*・° </span>
</div>
<main class="flex-grow flex items-center">
    <div id="prev" class="hidden md:block h-20 w-20"><img width="50" height="50" src="https://img.icons8.com/ios/50/back--v1.png"
                                          alt="back--v1"/></div>
    <div id="slider" class="h-full grow">
        <div>
            <div class="text-center">
                <p>
                    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Aut ipsam, natus! A ab ad animi
                    consectetur corporis doloremque esse, et excepturi iure laborum neque omnis quasi ut voluptas
                    voluptates. Reiciendis!

                </p>
                <p>
                    Lorem ipsum dolor sit amet, consectetur adipisicing elit. Dignissimos ipsa provident qui repellat
                    sunt totam voluptatem. Accusantium amet, ipsa libero magnam maiores modi nihil nisi, quis recusandae
                    sit soluta sunt!
                </p>
                👍👍👍
            </div>
        </div>
    </div>
    <div id="next" class="hidden md:block "><img width="50" height="50" src="https://img.icons8.com/ios/50/forward--v1.png" alt="forward--v1"/>
    </div>
</main>
<div id="pagination" class="hidden md:flex flex-wrap w-full justify-center pb-20 gap-5"></div>
</body>
<div class="activePanel"></div>
<link type="text/css" href="jquery.bbslider.css" rel="stylesheet" media="screen">
<script src="https://code.jquery.com/jquery-latest.js"></script>
<script type="text/javascript" src="jquery.bbslider.js"></script>
<script>
    $(window).on("resize", function(event){

        console.log( $(this).width() );
    });
    $(document).on('ready', () => {
        $.getJSON('img/images.json', data => {
            data.forEach(img => {
                $("#slider").append(
                    $(`<div>
            <div class="flex flex-col md:flex-row justify-center gap-10">
                <img src="img/${img.src}" alt="">
                <p class="text-center">
                    ${img.text}
                </p>
            </div>
        </div>`)
                )
            })
            $('#slider').bbslider('update');

            console.log(data)
        })
        $("#prev").on('click', () => {
            $("#slider").bbslider("prev")
        })
        $("#next").on('click', () => {
            $("#slider").bbslider("next")
        })
        const customPager = (num, id, title) => {
            console.log(num, id, title)
            let imgElem = ''
            if (num === 1) {
                imgElem = `<div class="w-full h-full flex justify-center items-center"><img width="35" height="35" src="https://img.icons8.com/ios-filled/50/home.png" alt="home"/></div>`
            } else {
                const page = $('#slider div div')[num - 1];
                const img = $(page).children('img')[0];
                console.log(img)
                if (img) {
                    imgElem = `<img class="w-full h-full rounded-2xl" src="${img.src}" alt="">`;
                }
            }
            return $(`
            <div class="w-20 h-20 shadow-xl rounded-2xl">
                <a class="w-20 h-20" href="#">
                    <div class="absolute w-20 h-20 bg-gray-300 rounded-2xl opacity-70 hover:opacity-0 transition-opacity"></div>
                </a>
                ${imgElem}
            </div>
        `)
        }

        $("#slider").bbslider({
            // auto: true,
            duration: 1000,
            pager: true,
            autoHeight: true,
            touch: true,
            dragControls: true,
            dynamicHeight: true,
            pagerWrap: '#pagination',
            pagerText: customPager,
            loop: true,
            transition: 'slide'
        })
    })
</script>
</html>